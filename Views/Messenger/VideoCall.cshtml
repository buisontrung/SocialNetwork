@model SocialNetwork.ViewModel.VideoCallViewModel
@{
    ViewBag.Title = "Video Call";
    var isSend = ViewBag.IsSend;
    int id = ViewBag.ConversionId;
    Layout = "_LayoutMess";
}
<style>
</style>
<div class="d-flex flex-column justify-content-between" style="height:100vh;overflow-y:hidden;background:black;position:relative">  
    @if(isSend){
        <div class="d-flex justify-content-center flex-column align-items-center h-100">
            <video id="remoteVideo" autoplay></video>
          
            <div class="col-3 d-flex justify-content-center"><img id="avatarImage" src="~/img/@Model?.receiver?.ProfilePictureUrl" style="width:90px;height:90px;border-radius:50%;object-fit:cover;"></div>
            <div class="col-3 text-center"><span style="color:#fff;font-weight:600">@Model?.receiver?.NickName</span></div>
            <div class="col-3 text-center"><span style="color:#fff;font-weight:300;font-size:12px">Đang gọi...</span></div>
        </div>
    }else{
        <div class="d-flex justify-content-center flex-column align-items-center h-100">
            <video id="remoteVideo" autoplay></video>
          
            <div class="col-3 d-flex justify-content-center"><img id="avatarImage" src="~/img/@Model?.sender?.ProfilePictureUrl" style="width:90px;height:90px;border-radius:50%;object-fit:cover;"></div>
            <div class="col-3 text-center"><span style="color:#fff;font-weight:600">@Model?.sender?.NickName</span></div>
            <div class="col-3 text-center"><span style="color:#fff;font-weight:300;font-size:12px">Đang gọi...</span></div>
        </div>
    }
        
  
    
    <div class="d-flex justify-content-sm-between" style="position:absolute;bottom:0;width:100%">
        <div class="col-3"></div>
        @if(isSend){
        <div class="col-3">
            <div class="d-flex align-items-center justify-content-center h-100">
                <div class="mx-1" style="border-radius:50%;background-color:#f0f0f0;width:50px;height:50px;display:flex;align-items:center;justify-content:center;cursor:pointer"><i class="fa-solid fa-microphone"></i></div>
                <div class="mx-1" style="border-radius:50%;background-color:#f0f0f0;width:50px;height:50px;display:flex;align-items:center;justify-content:center;cursor:pointer"><i class="fa-solid fa-volume-high"></i></div>
                <div class="mx-1" style="border-radius:50%;background-color:red;width:50px;height:50px;display:flex;align-items:center;justify-content:center;cursor:pointer"><i class="fa-solid fa-phone" style="color:#fff"></i></div>
            </div>
        </div>
        }else{
            <div class="col-3">
                <div class="d-flex align-items-center justify-content-center h-100">
                    <div class="mx-1" style="border-radius:50%;background-color:#f0f0f0;width:50px;height:50px;display:flex;align-items:center;justify-content:center;cursor:pointer"><i class="fa-solid fa-close"></i></div>
                    <div class="mx-1" id="accept-call" style="border-radius:50%;background-color:lawngreen;width:50px;height:50px;display:flex;align-items:center;justify-content:center;cursor:pointer"><i class="fa-solid fa-phone" style="color:#fff"></i></div>
                </div>
            </div>
        }
        
        <div class="col-3 d-flex justify-content-end">
            <div class="p-1">
                <div class="d-flex">
                    <div class="d-flex align-items-center">
                        <div class="arrow">
                            <div class="arrow1">
                                
                            </div >
                            <div class="arrow2">
                            </div>
                        </div>
                    </div>
                    <video id="localVideo" autoplay muted style="width: 100%;
                    height: auto;"></video>
                </div>
            </div>
        </div>
    </div>
</div>


@section Scripts {
    <script>
        var isSend = @Json.Serialize(isSend)
        var id = @Json.Serialize(id)
       
    </script>
    <script src="~/js/videocall.js"></script>
}